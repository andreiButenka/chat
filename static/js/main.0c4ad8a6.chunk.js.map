{"version":3,"sources":["components/Notification/Notification.js","components/NameInput/NameInput.js","components/ChatInput/ChatInput.js","components/ChatMessage/ChatMessage.js","components/DraftMessage/DraftMessage.js","components/Header/Header.js","components/Chat/Chat.js","App.js","serviceWorker.js","index.js"],"names":["Object","defineProperty","exports","value","obj","_react","require","__esModule","default","_propTypes","_typeof","Symbol","iterator","constructor","prototype","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_assertThisInitialized","self","ReferenceError","_setPrototypeOf","p","PERMISSION_GRANTED","seq","seqGen","Notification","_React$Component","_this","call","instance","Constructor","TypeError","_classCallCheck","this","supported","granted","window","permission","state","notifications","windowFocus","onWindowFocus","_onWindowFocus","bind","onWindowBlur","_onWindowBlur","protoProps","staticProps","subClass","superClass","create","_inherits","Component","_this2","requestPermission","result","setState","onPermissionGranted","onPermissionDenied","disableActiveWindow","addEventListener","askAgain","_askPermission","notSupported","removeEventListener","_this3","doNotShowOnActiveWindow","ignore","title","opt","options","tag","swRegistration","showNotification","n","onshow","e","onShow","setTimeout","close","timeout","onclick","onClick","onclose","onClose","onerror","onError","createElement","type","name","style","display","propTypes","bool","func","number","string","isRequired","object","defaultProps","_default","NameInput","_ref","from","onChange","react_default","a","className","placeholder","ChatInput","message","action","onSubmit","preventDefault","onSubmitMessage","ChatMessage_ChatMessage","concat","mdbreact_esm","DraftMessage_DraftMessage","resend","id","role","Header","status","closeConnection","openConnection","switchNotifications","switchNotificationButtonText","Fragment","md","xl","URL","Chat","localStorage","getItem","messages","draftMessages","messageStatus","undefined","statusBackground","ws","WebSocket","connect","onopen","console","log","onmessage","evt","JSON","parse","data","Array","isArray","handleNotification","addMessage","handleConnectionChange","wbStatus","readyState","navigator","onLine","OPEN","webPing","setInterval","fetch","mode","then","clearInterval","catch","toConsumableArray","submitMessage","messageString","send","stringify","clearDrawMessages","resendDraftMessage","parentNode","forEach","draftMessage","index","Number","filter","deleteDraftMessage","handleNameInput","setItem","now","Date","body","lang","dir","Notification_default","handleNotSupported","handlePermissionGranted","handlePermissionDenied","handleNotificationOnError","map","components_ChatInput_ChatInput","App","components_Chat_Chat","Boolean","location","hostname","match","ReactDOM","render","src_App","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"yFAGAA,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAO,aAAc,EAErB,IAIgCE,EAJ5BC,GAI4BD,EAJIE,EAAQ,KAISF,EAAIG,WAAaH,EAAM,CAAEI,QAAWJ,GAFrFK,EAAaH,EAAQ,GAIzB,SAASI,EAAQN,GAAwT,OAAtOM,EAArD,oBAAXC,QAAoD,kBAApBA,OAAOC,SAAmC,SAAiBR,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,oBAAXO,QAAyBP,EAAIS,cAAgBF,QAAUP,IAAQO,OAAOG,UAAY,gBAAkBV,IAAyBA,GAIxV,SAASW,EAAkBC,EAAQC,GAAS,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,IAAIE,EAAaH,EAAMC,GAAIE,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAMvB,OAAOC,eAAee,EAAQI,EAAWI,IAAKJ,IAM7S,SAASK,EAAgBC,GAAwJ,OAAnJD,EAAkBzB,OAAO2B,eAAiB3B,OAAO4B,eAAiB,SAAyBF,GAAK,OAAOA,EAAEG,WAAa7B,OAAO4B,eAAeF,KAA8BA,GAExM,SAASI,EAAuBC,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIC,eAAe,6DAAgE,OAAOD,EAI/J,SAASE,EAAgBP,EAAGQ,GAA+G,OAA1GD,EAAkBjC,OAAO2B,gBAAkB,SAAyBD,EAAGQ,GAAsB,OAAjBR,EAAEG,UAAYK,EAAUR,IAA6BA,EAAGQ,GAErK,IAAIC,EAAqB,UAUrBC,EAPS,WACX,IAAIlB,EAAI,EACR,OAAO,WACL,OAAOA,KAIDmB,GAENC,EAEJ,SAAUC,GAGR,SAASD,EAAarB,GACpB,IAAIuB,EA5B4BT,EAAMU,GAN1C,SAAyBC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIC,UAAU,qCAoC5GC,CAAgBC,KAAMR,GA9BUP,EAgCGe,KAAnCN,IAhCsCC,EAgCGhB,EAAgBa,GAAcG,KAAKK,KAAM7B,KAhCL,WAAlBP,EAAQ+B,IAAsC,oBAATA,EAA8CX,EAAuBC,GAAtCU,EAiC/H,IAAIM,GAAY,EACZC,GAAU,EAmBd,MAjBI,iBAAkBC,QAAUA,OAAOX,eACrCS,GAAY,EAERE,OAAOX,aAAaY,aAAef,IACrCa,GAAU,IAIdR,EAAMW,MAAQ,CACZJ,UAAWA,EACXC,QAASA,GAGXR,EAAMY,cAAgB,GACtBZ,EAAMa,aAAc,EACpBb,EAAMc,cAAgBd,EAAMe,eAAeC,KAAK1B,EAAuBU,IACvEA,EAAMiB,aAAejB,EAAMkB,cAAcF,KAAK1B,EAAuBU,IAC9DA,EAvDX,IAAsBG,EAAagB,EAAYC,EA8L7C,OAtLF,SAAmBC,EAAUC,GAAc,GAA0B,oBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIlB,UAAU,sDAAyDiB,EAAS/C,UAAYd,OAAO+D,OAAOD,GAAcA,EAAWhD,UAAW,CAAED,YAAa,CAAEV,MAAO0D,EAAUtC,UAAU,EAAMD,cAAc,KAAewC,GAAY7B,EAAgB4B,EAAUC,GAmBjXE,CAAU1B,EAoKVjC,EAAO,WAAW4D,WA/LEtB,EA0DPL,GA1DoBqB,EA0DN,CAAC,CAC1BnC,IAAK,iBACLrB,MAAO,WACL2C,KAAKO,aAAc,IAEpB,CACD7B,IAAK,gBACLrB,MAAO,WACL2C,KAAKO,aAAc,IAEpB,CACD7B,IAAK,iBACLrB,MAAO,WACL,IAAI+D,EAASpB,KAEbG,OAAOX,aAAa6B,kBAAkB,SAAUjB,GAC9C,IAAIkB,EAASlB,IAAef,EAE5B+B,EAAOG,SAAS,CACdrB,QAASoB,GACR,WACGA,EACFF,EAAOjD,MAAMqD,sBAEbJ,EAAOjD,MAAMsD,2BAKpB,CACD/C,IAAK,oBACLrB,MAAO,WACD2C,KAAK7B,MAAMuD,sBACbvB,OAAOwB,iBAAiB,QAAS3B,KAAKQ,eACtCL,OAAOwB,iBAAiB,OAAQ3B,KAAKW,eAGlCX,KAAKK,MAAMJ,UAELD,KAAKK,MAAMH,QACpBF,KAAK7B,MAAMqD,sBArFK,WAuFZrB,OAAOX,aAAaY,WAClBJ,KAAK7B,MAAMyD,SACb5B,KAAK6B,iBAEL7B,KAAK7B,MAAMsD,qBAGbzB,KAAK6B,iBAXP7B,KAAK7B,MAAM2D,iBAed,CACDpD,IAAK,uBACLrB,MAAO,WACD2C,KAAK7B,MAAMuD,sBACbvB,OAAO4B,oBAAoB,QAAS/B,KAAKQ,eACzCL,OAAO4B,oBAAoB,OAAQ/B,KAAKW,iBAG3C,CACDjC,IAAK,SACLrB,MAAO,WACL,IAAI2E,EAAShC,KAETiC,EAA0BjC,KAAK7B,MAAMuD,qBAAuB1B,KAAKO,YAErE,IAAKP,KAAK7B,MAAM+D,QAAUlC,KAAK7B,MAAMgE,OAASnC,KAAKK,MAAMJ,WAAaD,KAAKK,MAAMH,UAAY+B,EAAyB,CACpH,IAAIG,EAAMpC,KAAK7B,MAAMkE,QAMrB,GAJuB,kBAAZD,EAAIE,MACbF,EAAIE,IAAM,oBAAsBhD,MAG7BU,KAAKM,cAAc8B,EAAIE,KAC1B,GAAItC,KAAK7B,MAAMoE,gBAAkBvC,KAAK7B,MAAMoE,eAAeC,iBACzDxC,KAAK7B,MAAMoE,eAAeC,iBAAiBxC,KAAK7B,MAAMgE,MAAOC,GAC7DpC,KAAKM,cAAc8B,EAAIE,KAAO,OACzB,CACL,IAAIG,EAAI,IAAItC,OAAOX,aAAaQ,KAAK7B,MAAMgE,MAAOC,GAElDK,EAAEC,OAAS,SAAUC,GACnBX,EAAO7D,MAAMyE,OAAOD,EAAGP,EAAIE,KAE3BO,WAAW,WACTb,EAAOc,MAAML,IACZT,EAAO7D,MAAM4E,UAGlBN,EAAEO,QAAU,SAAUL,GACpBX,EAAO7D,MAAM8E,QAAQN,EAAGP,EAAIE,MAG9BG,EAAES,QAAU,SAAUP,GACpBX,EAAO7D,MAAMgF,QAAQR,EAAGP,EAAIE,MAG9BG,EAAEW,QAAU,SAAUT,GACpBX,EAAO7D,MAAMkF,QAAQV,EAAGP,EAAIE,MAG9BtC,KAAKM,cAAc8B,EAAIE,KAAOG,GAOpC,OAAOlF,EAAM,QAAY+F,cAAc,QAAS,CAC9CC,KAAM,SACNC,KAAM,mCACNC,MAAO,CACLC,QAAS,YAId,CACDhF,IAAK,QACLrB,MAAO,SAAeoF,GAChBA,GAAwB,oBAAZA,EAAEK,OAChBL,EAAEK,UAIL,CACDpE,IAAK,2BACLrB,MAAO,SAAkCiF,GACvC,OAAOtC,KAAKM,cAAcgC,QA1L8CrE,EAAkB4B,EAAY7B,UAAW6C,GAAiBC,GAAa7C,EAAkB4B,EAAaiB,GA8L3KtB,EApKT,GAuKAA,EAAamE,UAAY,CACvBzB,OAAQvE,EAAWiG,KACnBlC,oBAAqB/D,EAAWiG,KAChChC,SAAUjE,EAAWiG,KACrB9B,aAAcnE,EAAWkG,KACzBrC,oBAAqB7D,EAAWkG,KAChCpC,mBAAoB9D,EAAWkG,KAC/BjB,OAAQjF,EAAWkG,KACnBZ,QAAStF,EAAWkG,KACpBV,QAASxF,EAAWkG,KACpBR,QAAS1F,EAAWkG,KACpBd,QAASpF,EAAWmG,OACpB3B,MAAOxE,EAAWoG,OAAOC,WACzB3B,QAAS1E,EAAWsG,OACpB1B,eAAgB5E,EAAWsG,QAE7BzE,EAAa0E,aAAe,CAC1BhC,QAAQ,EACRR,qBAAqB,EACrBE,UAAU,EACVE,aAAc,aACdN,oBAAqB,aACrBC,mBAAoB,aACpBmB,OAAQ,aACRK,QAAS,aACTE,QAAS,aACTE,QAAS,aACTN,QAAS,IACTV,QAAS,GACTE,eAAgB,MAElB,IAAI4B,EAAW3E,EACfpC,EAAO,QAAc+G,qPCnPNC,EAAA,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,KAAMC,EAATF,EAASE,SAAT,OACdC,EAAAC,EAAAnB,cAAA,OAAKoB,UAAU,WACbF,EAAAC,EAAAnB,cAAA,KAAGoB,UAAU,uBACbF,EAAAC,EAAAnB,cAAA,SACEoB,UAAU,eACbnB,KAAK,OACLoB,YAAa,qBACbtH,MAAOiH,EACPC,SAAUA,MC0BGK,oNA5BbvE,MAAQ,CACNwE,QAAS,4EAGF,IAAAzD,EAAApB,KACP,OACEwE,EAAAC,EAAAnB,cAAA,QACEoB,UAAU,4BACVI,OAAO,IACPC,SAAU,SAAApC,GACRA,EAAEqC,iBACF5D,EAAKjD,MAAM8G,gBAAgB7D,EAAKf,MAAMwE,SACtCzD,EAAKG,SAAS,CAAEsD,QAAS,OAG3BL,EAAAC,EAAAnB,cAAA,SACEoB,UAAU,6BACVnB,KAAK,OACLoB,YAAa,mBACbtH,MAAO2C,KAAKK,MAAMwE,QAClBN,SAAU,SAAA5B,GAAC,OAAIvB,EAAKG,SAAS,CAAEsD,QAASlC,EAAEzE,OAAOb,WAEnDmH,EAAAC,EAAAnB,cAAA,SAAOoB,UAAU,yBAAyBnB,KAAK,SAASlG,MAAO,iBA1B/C8D,qBCAT+D,SAAA,SAAAb,GAAA,IAAGb,EAAHa,EAAGb,KAAMqB,EAATR,EAASQ,QAASH,EAAlBL,EAAkBK,UAAlB,OACbF,EAAAC,EAAAnB,cAAA,MAAIoB,UAAS,4BAAAS,OAA8BT,IAC3CF,EAAAC,EAAAnB,cAAC8B,EAAA,EAAD,KACEZ,EAAAC,EAAAnB,cAAC8B,EAAA,EAAD,KACEZ,EAAAC,EAAAnB,cAAA,WACEkB,EAAAC,EAAAnB,cAAA,UAAQoB,UAAU,gBAAgBlB,IAEpCgB,EAAAC,EAAAnB,cAAA,WACAkB,EAAAC,EAAAnB,cAAA,KAAGoB,UAAU,QAAQG,QCRZQ,SAAA,SAAAhB,GAAA,IAAGb,EAAHa,EAAGb,KAAMqB,EAATR,EAASQ,QAASH,EAAlBL,EAAkBK,UAAW5B,EAA7BuB,EAA6BvB,MAAOwC,EAApCjB,EAAoCiB,OAAQC,EAA5ClB,EAA4CkB,GAA5C,OACbf,EAAAC,EAAAnB,cAAA,MAAIoB,UAAS,4BAAAS,OAA8BT,IACzCF,EAAAC,EAAAnB,cAAC8B,EAAA,EAAD,KACEZ,EAAAC,EAAAnB,cAAC8B,EAAA,EAAD,KACEZ,EAAAC,EAAAnB,cAAA,WACEkB,EAAAC,EAAAnB,cAAA,UAAQoB,UAAU,gBAAgBlB,IAEpCgB,EAAAC,EAAAnB,cAAA,WACAkB,EAAAC,EAAAnB,cAAA,KAAGoB,UAAU,QAAQG,GACrBL,EAAAC,EAAAnB,cAAA,OAAKoB,UAAU,qBAAqBc,KAAK,SAAzC,4DAIAhB,EAAAC,EAAAnB,cAAA,OAAKiC,GAAIA,GACPf,EAAAC,EAAAnB,cAAA,UAAQoB,UAAU,iBAAiBzB,QAASH,GAA5C,SACA0B,EAAAC,EAAAnB,cAAA,UAAQoB,UAAU,iBAAiBzB,QAASqC,GAA5C,iCChBKG,EAAA,SAAApB,GAAA,IAAGK,EAAHL,EAAGK,UAAWgB,EAAdrB,EAAcqB,OAAQC,EAAtBtB,EAAsBsB,gBAAiBC,EAAvCvB,EAAuCuB,eAAgBC,EAAvDxB,EAAuDwB,oBAAqBC,EAA5EzB,EAA4EyB,6BAA5E,OACdtB,EAAAC,EAAAnB,cAAAkB,EAAAC,EAAAsB,SAAA,KACCvB,EAAAC,EAAAnB,cAAC8B,EAAA,EAAD,KACCZ,EAAAC,EAAAnB,cAAC8B,EAAA,EAAD,CAAQV,UAAU,0BACjBF,EAAAC,EAAAnB,cAAC8B,EAAA,EAAD,CAAQY,GAAG,IAAIC,GAAG,IAAIvB,UAAU,iCAC/BF,EAAAC,EAAAnB,cAAA,OAAKoB,UAAS,iCAAAS,OAAmCT,GAAac,KAAK,SACjEE,KAIJlB,EAAAC,EAAAnB,cAAC8B,EAAA,EAAD,CAAQV,UAAU,0BACjBF,EAAAC,EAAAnB,cAAC8B,EAAA,EAAD,CAAQY,GAAG,IAAIC,GAAG,IAAIvB,UAAU,yEAC/BF,EAAAC,EAAAnB,cAAA,UAAQoB,UAAU,iBAAiBzB,QAAS0C,GAA5C,SACAnB,EAAAC,EAAAnB,cAAA,UAAQoB,UAAU,kBAAkBzB,QAAS2C,GAA7C,QACApB,EAAAC,EAAAnB,cAAA,UAAQoB,UAAU,gBAAgBzB,QAAS4C,GAAsBC,QCPhEI,SAAM,yBAiSGC,6MA9Rb9F,MAAQ,CACNiE,KAAM8B,aAAaC,QAAQ,YAC3BC,SAAU,GACVC,cAAe,GACfC,mBAAeC,EACff,OAAQ,UACRgB,iBAAkB,sBAClBxE,QAAQ,EACRC,MAAO,qBACP2D,6BAA8B,4BAGhCa,GAAK,IAAIC,UAAUV,KAcnBW,QAAS,WACPnH,EAAKiH,GAAGG,OAAS,WACfC,QAAQC,IAAI,aACZtH,EAAK6B,SAAS,SAAAlB,GAAK,MAAI,CAACqF,OAAQ,SAAUgB,iBAAkB,0BAE9DhH,EAAKiH,GAAGM,UAAY,SAAAC,GAClB,IAAIrC,EAAUsC,KAAKC,MAAMF,EAAIG,MAC7BN,QAAQC,IAAInC,GAERyC,MAAMC,QAAQ1C,IAA+B,IAAnBA,EAAQxG,QAAsC,kBAAfwG,EAAQ,KACnEA,EAAUA,EAAQ,GAClBnF,EAAK8H,mBAAmB3C,EAAQP,KAAMO,EAAQA,UAEhDnF,EAAK+H,WAAW5C,IAGlBnF,EAAKiH,GAAGzD,QAAU,WAChB6D,QAAQC,IAAI,gBACZtH,EAAK6B,SAAS,CACZmE,OAAQ,UACRgB,iBAAkB,uBAEpBhH,EAAKiH,GAAK,IAAIC,UAAUV,GACxBxG,EAAKmH,cAMTa,uBAAyB,WACvB,IAAIC,EAAWjI,EAAKiH,GAAGiB,WAEvB,GAAkB,YADAC,UAAUC,OAAS,SAAW,YAiBhD,GAAIpI,EAAKiH,GAAGiB,aAAehB,UAAUmB,KACnC,OAAOrI,EAAK6B,SAAS,CAAEmE,OAAQ,UAAWgB,iBAAkB,4BAhB5D,IAAMsB,EAAUC,YACd,WACEC,MAAM,eAAgB,CACpBC,KAAM,YAEPC,KAAK,WACAT,IAAaf,UAAUmB,MACzBrI,EAAK6B,SAAS,CAAEmE,OAAQ,SAAUgB,iBAAkB,uBAAyB,WAC3E,OAAO2B,cAAcL,OAGxBM,MAAM,kBAAM5I,EAAK6B,SAAS,CAAEmE,OAAQ,UAAWgB,iBAAkB,0BACnE,QAQTe,WAAa,SAAC5C,GAERA,EAAQxG,OAAS,GACnBqB,EAAK6B,SAAS,SAAAlB,GAAK,MAAK,CAACiG,SAAUzB,KACnCkC,QAAQC,IAAI,UAEZtH,EAAK6B,SAAS,SAAAlB,GAAK,MAAK,CAACiG,SAAQ,CAAGzB,GAAHM,OAAAjI,OAAAqL,EAAA,EAAArL,CAAewC,EAAKW,MAAMiG,cAC3DS,QAAQC,IAAI,SAIhBwB,cAAgB,SAAAC,GACd,IAAM5D,EAAU,CAAEP,KAAM5E,EAAKW,MAAMiE,KAAMO,QAAS4D,GAClD,GAA0B,WAAtB/I,EAAKW,MAAMqF,OAIb,OAHAqB,QAAQC,IAAI,WACZtH,EAAK6B,SAAS,SAAAlB,GAAK,MAAK,CAACkG,cAAa,CAAG1B,GAAHM,OAAAjI,OAAAqL,EAAA,EAAArL,CAAemD,EAAMkG,wBAC3DQ,QAAQC,IAAItH,EAAKW,MAAMkG,eAGzB7G,EAAKiH,GAAG+B,KAAKvB,KAAKwB,UAAU9D,OAI9Bc,gBAAkB,WAChBjG,EAAKiH,GAAG7D,WAGV8C,eAAiB,WACflG,EAAKiH,GAAK,IAAIC,UAAUV,GACxBxG,EAAKmH,aAGP+B,kBAAoB,WAClBlJ,EAAK6B,SAAS,SAAAlB,GACZA,EAAMkG,cAAclI,OAAS,OAIjCwK,mBAAqB,SAAClG,GACpB,IAAMjE,EAAMiE,EAAEzE,OAAO4K,WAAWvD,GAChC7F,EAAKW,MAAMkG,cAAcwC,QAAQ,SAACC,EAAcC,GAC1CA,IAAUC,OAAOxK,IAA8B,WAAtBgB,EAAKW,MAAMqF,SACtChG,EAAKiH,GAAG+B,KAAKvB,KAAKwB,UAAUK,IAC5BtJ,EAAK6B,SAAS,SAAAlB,GAAK,MAAK,CACtBkG,cAAelG,EAAMkG,cAAc4C,OAAO,SAACtE,EAASoE,GAAV,OAAoBA,IAAUC,OAAOxK,cAMvF0K,mBAAqB,SAACzG,GACpB,IAAMjE,EAAMiE,EAAEzE,OAAO4K,WAAWvD,GAChC7F,EAAK6B,SAAS,SAAClB,GAAD,MAAY,CACxBkG,cAAelG,EAAMkG,cAAc4C,OAAO,SAACtE,EAASoE,GAAV,OAAoBA,IAAUC,OAAOxK,WAoEnF2K,gBAAkB,SAAC1G,GAAM,IACftF,EAAUsF,EAAEzE,OAAZb,MACRqC,EAAK6B,SAAS,CAAE+C,KAAMjH,IACtB+I,aAAakD,QAAQ,WAAYjM,uFA5LjC2C,KAAK0H,yBACLvH,OAAOwB,iBAAiB,SAAU3B,KAAK0H,wBACvCvH,OAAOwB,iBAAiB,UAAW3B,KAAK0H,wBACxC1H,KAAK6G,yDAIL1G,OAAO4B,oBAAoB,SAAU/B,KAAK0H,wBAC1CvH,OAAO4B,oBAAoB,UAAW/B,KAAK0H,0EAkH3CX,QAAQC,IAAI,sBACZhH,KAAKuB,SAAS,CACZW,QAAQ,qDAKV6E,QAAQC,IAAI,qBACZhH,KAAKuB,SAAS,CACZW,QAAQ,iDAKV6E,QAAQC,IAAI,kCACZhH,KAAKuB,SAAS,CACZW,QAAQ,sDAIcS,EAAGL,GAC3ByE,QAAQC,IAAIrE,EAAG,0BAA4BL,kDAIjB,IAAtBtC,KAAKK,MAAM6B,OAQflC,KAAKuB,SAAS,CACZW,QAAQ,EACR4D,6BAA8B,0BAT9B9F,KAAKuB,SAAS,CACZW,QAAQ,EACR4D,6BAA8B,oEAWjBxB,EAAMO,GAEvB,GAAI7E,KAAKK,MAAM6B,OACb6E,QAAQC,IAAIhH,KAAKK,MAAM6B,YADzB,CAKA,IAAMqH,EAAMC,KAAKD,MAEXpH,EAAQnC,KAAKK,MAAM8B,MAGnBE,EAAU,CACdC,IAFUiH,EAGVE,KAJQ,GAAAtE,OAAMb,EAAN,MAAAa,OAAeN,GAKvB6E,KAAM,KACNC,IAAK,OAEP3J,KAAKuB,SAAS,CACZY,MAAOA,EACPE,QAASA,sCAUJ,IAAAjB,EAAApB,KACCsE,EAAStE,KAAKK,MAAdiE,KACR,OACEE,EAAAC,EAAAnB,cAAA,OAAKoB,UAAU,iBACbF,EAAAC,EAAAnB,cAACsG,EAAAnF,EAAD,CACEvC,OAAQlC,KAAKK,MAAM6B,QAA+B,KAArBlC,KAAKK,MAAM8B,MACxCL,aAAc9B,KAAK6J,mBAAmBnJ,KAAKV,MAC3CwB,oBAAqBxB,KAAK8J,wBAAwBpJ,KAAKV,MACvDyB,mBAAoBzB,KAAK+J,uBAAuBrJ,KAAKV,MACrDqD,QAASrD,KAAKgK,0BAA0BtJ,KAAKV,MAC7C+C,QAAS,IACTZ,MAAOnC,KAAKK,MAAM8B,MAClBE,QAASrC,KAAKK,MAAMgC,QACpBX,qBAAqB,IAEvB8C,EAAAC,EAAAnB,cAACmC,EAAD,CACEf,UAAW1E,KAAKK,MAAMqG,iBACtBhB,OAAQ1F,KAAKK,MAAMqF,OACnBC,gBAAiB3F,KAAK2F,gBAAgBjF,KAAKV,MAC3C4F,eAAgB5F,KAAK4F,eAAelF,KAAKV,MACzC6F,oBAAqB7F,KAAK6F,oBAAoBnF,KAAKV,MACnD8F,6BAA8B9F,KAAKK,MAAMyF,+BAE3CtB,EAAAC,EAAAnB,cAAC8B,EAAA,EAAD,CAASV,UAAU,iCACjBF,EAAAC,EAAAnB,cAAC8B,EAAA,EAAD,CAAaV,UAAU,0BACrBF,EAAAC,EAAAnB,cAAC8B,EAAA,EAAD,CAAQV,UAAU,0BAChBF,EAAAC,EAAAnB,cAAC8B,EAAA,EAAD,CAAQY,GAAG,IAAIC,GAAG,IAAIvB,UAAU,iCAC9BF,EAAAC,EAAAnB,cAACc,EAAD,CACEE,KAAMA,EACNC,SAAUvE,KAAKqJ,oBAIrB7E,EAAAC,EAAAnB,cAAC8B,EAAA,EAAD,CAAQV,UAAU,0BAChBF,EAAAC,EAAAnB,cAAC8B,EAAA,EAAD,CAAQY,GAAG,IAAIC,GAAG,IAAIvB,UAAU,iCAE5BF,EAAAC,EAAAnB,cAAC8B,EAAA,EAAD,CAAcV,UAAU,4CACvB1E,KAAKK,MAAMkG,cAAc0D,IAAI,SAACpF,EAASoE,GACtC,OACEzE,EAAAC,EAAAnB,cAAC+B,EAAD,CACE3G,IAAKuK,EACL1D,GAAI0D,EACJpE,QAASA,EAAQA,QACjBrB,KAAMqB,EAAQP,KACdI,UAAU,4BACV5B,MAAO1B,EAAKgI,mBACZ9D,OAAQlE,EAAKyH,uBAIlB7I,KAAKK,MAAMiG,SAAS2D,IAAI,SAACpF,EAASoE,GACjC,IAAIzC,EAAgB,mCAIpB,OAHI3B,EAAQP,OAASlD,EAAKf,MAAMiE,OAC9BkC,EAAgB,8BAGhBhC,EAAAC,EAAAnB,cAAC4B,EAAD,CACExG,IAAKmG,EAAQU,GACbV,QAASA,EAAQA,QACjBrB,KAAMqB,EAAQP,KACdI,UAAW8B,SAOvBhC,EAAAC,EAAAnB,cAAC8B,EAAA,EAAD,CAAQV,UAAU,0BAChBF,EAAAC,EAAAnB,cAAC4G,EAAD,CACEvD,GAAI3G,KAAK2G,GACT1B,gBAAiB,SAAAwD,GAAa,OAAIrH,EAAKoH,cAAcC,iBArRlDtH,aCEJgJ,mLARX,OACE3F,EAAAC,EAAAnB,cAAA,OAAKoB,UAAU,OACbF,EAAAC,EAAAnB,cAAC8G,EAAD,cAJUjJ,aCQEkJ,QACW,cAA7BlK,OAAOmK,SAASC,UAEe,UAA7BpK,OAAOmK,SAASC,UAEhBpK,OAAOmK,SAASC,SAASC,MACvB,6ECVNC,IAASC,OAAOlG,EAAAC,EAAAnB,cAACqH,EAAD,MAASC,SAASC,eAAe,SDyH3C,kBAAmBhD,WACrBA,UAAUiD,cAAcC,MAAM3C,KAAK,SAAA4C,GACjCA,EAAaC","file":"static/js/main.0c4ad8a6.chunk.js","sourcesContent":["/* eslint-disable */\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports[\"default\"] = void 0;\r\n\r\nvar _react = _interopRequireDefault(require(\"react\"));\r\n\r\nvar _propTypes = require(\"prop-types\");\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\r\n\r\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\r\n\r\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\r\n\r\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\r\n\r\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\r\n\r\nvar PERMISSION_GRANTED = 'granted';\r\nvar PERMISSION_DENIED = 'denied';\r\n\r\nvar seqGen = function seqGen() {\r\n  var i = 0;\r\n  return function () {\r\n    return i++;\r\n  };\r\n};\r\n\r\nvar seq = seqGen();\r\n\r\nvar Notification =\r\n/*#__PURE__*/\r\nfunction (_React$Component) {\r\n  _inherits(Notification, _React$Component);\r\n\r\n  function Notification(props) {\r\n    var _this;\r\n\r\n    _classCallCheck(this, Notification);\r\n\r\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Notification).call(this, props));\r\n    var supported = false;\r\n    var granted = false;\r\n\r\n    if ('Notification' in window && window.Notification) {\r\n      supported = true;\r\n\r\n      if (window.Notification.permission === PERMISSION_GRANTED) {\r\n        granted = true;\r\n      }\r\n    }\r\n\r\n    _this.state = {\r\n      supported: supported,\r\n      granted: granted\r\n    }; // Do not save Notification instance in state\r\n\r\n    _this.notifications = {};\r\n    _this.windowFocus = true;\r\n    _this.onWindowFocus = _this._onWindowFocus.bind(_assertThisInitialized(_this));\r\n    _this.onWindowBlur = _this._onWindowBlur.bind(_assertThisInitialized(_this));\r\n    return _this;\r\n  }\r\n\r\n  _createClass(Notification, [{\r\n    key: \"_onWindowFocus\",\r\n    value: function _onWindowFocus() {\r\n      this.windowFocus = true;\r\n    }\r\n  }, {\r\n    key: \"_onWindowBlur\",\r\n    value: function _onWindowBlur() {\r\n      this.windowFocus = false;\r\n    }\r\n  }, {\r\n    key: \"_askPermission\",\r\n    value: function _askPermission() {\r\n      var _this2 = this;\r\n\r\n      window.Notification.requestPermission(function (permission) {\r\n        var result = permission === PERMISSION_GRANTED;\r\n\r\n        _this2.setState({\r\n          granted: result\r\n        }, function () {\r\n          if (result) {\r\n            _this2.props.onPermissionGranted();\r\n          } else {\r\n            _this2.props.onPermissionDenied();\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }, {\r\n    key: \"componentDidMount\",\r\n    value: function componentDidMount() {\r\n      if (this.props.disableActiveWindow) {\r\n        window.addEventListener('focus', this.onWindowFocus);\r\n        window.addEventListener('blur', this.onWindowBlur);\r\n      }\r\n\r\n      if (!this.state.supported) {\r\n        this.props.notSupported();\r\n      } else if (this.state.granted) {\r\n        this.props.onPermissionGranted();\r\n      } else {\r\n        if (window.Notification.permission === PERMISSION_DENIED) {\r\n          if (this.props.askAgain) {\r\n            this._askPermission();\r\n          } else {\r\n            this.props.onPermissionDenied();\r\n          }\r\n        } else {\r\n          this._askPermission();\r\n        }\r\n      }\r\n    }\r\n  }, {\r\n    key: \"componentWillUnmount\",\r\n    value: function componentWillUnmount() {\r\n      if (this.props.disableActiveWindow) {\r\n        window.removeEventListener('focus', this.onWindowFocus);\r\n        window.removeEventListener('blur', this.onWindowBlur);\r\n      }\r\n    }\r\n  }, {\r\n    key: \"render\",\r\n    value: function render() {\r\n      var _this3 = this;\r\n\r\n      var doNotShowOnActiveWindow = this.props.disableActiveWindow && this.windowFocus;\r\n\r\n      if (!this.props.ignore && this.props.title && this.state.supported && this.state.granted && !doNotShowOnActiveWindow) {\r\n        var opt = this.props.options;\r\n\r\n        if (typeof opt.tag !== 'string') {\r\n          opt.tag = 'web-notification-' + seq();\r\n        }\r\n\r\n        if (!this.notifications[opt.tag]) {\r\n          if (this.props.swRegistration && this.props.swRegistration.showNotification) {\r\n            this.props.swRegistration.showNotification(this.props.title, opt);\r\n            this.notifications[opt.tag] = {};\r\n          } else {\r\n            var n = new window.Notification(this.props.title, opt);\r\n\r\n            n.onshow = function (e) {\r\n              _this3.props.onShow(e, opt.tag);\r\n\r\n              setTimeout(function () {\r\n                _this3.close(n);\r\n              }, _this3.props.timeout);\r\n            };\r\n\r\n            n.onclick = function (e) {\r\n              _this3.props.onClick(e, opt.tag);\r\n            };\r\n\r\n            n.onclose = function (e) {\r\n              _this3.props.onClose(e, opt.tag);\r\n            };\r\n\r\n            n.onerror = function (e) {\r\n              _this3.props.onError(e, opt.tag);\r\n            };\r\n\r\n            this.notifications[opt.tag] = n;\r\n          }\r\n        }\r\n      } // return null cause\r\n      // Error: Invariant Violation: Notification.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.\r\n\r\n\r\n      return _react[\"default\"].createElement(\"input\", {\r\n        type: \"hidden\",\r\n        name: \"dummy-for-react-web-notification\",\r\n        style: {\r\n          display: 'none'\r\n        }\r\n      });\r\n    }\r\n  }, {\r\n    key: \"close\",\r\n    value: function close(n) {\r\n      if (n && typeof n.close === 'function') {\r\n        n.close();\r\n      }\r\n    } // for debug\r\n\r\n  }, {\r\n    key: \"_getNotificationInstance\",\r\n    value: function _getNotificationInstance(tag) {\r\n      return this.notifications[tag];\r\n    }\r\n  }]);\r\n\r\n  return Notification;\r\n}(_react[\"default\"].Component);\r\n\r\nNotification.propTypes = {\r\n  ignore: _propTypes.bool,\r\n  disableActiveWindow: _propTypes.bool,\r\n  askAgain: _propTypes.bool,\r\n  notSupported: _propTypes.func,\r\n  onPermissionGranted: _propTypes.func,\r\n  onPermissionDenied: _propTypes.func,\r\n  onShow: _propTypes.func,\r\n  onClick: _propTypes.func,\r\n  onClose: _propTypes.func,\r\n  onError: _propTypes.func,\r\n  timeout: _propTypes.number,\r\n  title: _propTypes.string.isRequired,\r\n  options: _propTypes.object,\r\n  swRegistration: _propTypes.object\r\n};\r\nNotification.defaultProps = {\r\n  ignore: false,\r\n  disableActiveWindow: false,\r\n  askAgain: false,\r\n  notSupported: function notSupported() {},\r\n  onPermissionGranted: function onPermissionGranted() {},\r\n  onPermissionDenied: function onPermissionDenied() {},\r\n  onShow: function onShow() {},\r\n  onClick: function onClick() {},\r\n  onClose: function onClose() {},\r\n  onError: function onError() {},\r\n  timeout: 5000,\r\n  options: {},\r\n  swRegistration: null\r\n};\r\nvar _default = Notification;\r\nexports[\"default\"] = _default;","import React from 'react'\r\n\r\nexport default ({ from, onChange }) =>\r\n\t<div className=\"md-form\">\r\n\t  <i className=\"fas fa-user prefix\"></i>\r\n\t  <input\r\n\t    className=\"form-control\"\r\n\t\ttype=\"text\"\r\n\t\tplaceholder={'Enter your name...'}\r\n\t\tvalue={from}\r\n\t\tonChange={onChange}\r\n\t  />\r\n\t</div>","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport './ChatInput.css'\r\n\r\nclass ChatInput extends Component {\r\n  static propTypes = {\r\n    onSubmitMessage: PropTypes.func.isRequired,\r\n  }\r\n  state = {\r\n    message: '',\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form\r\n        className=\"d-flex align-items-center\"\r\n        action=\".\"\r\n        onSubmit={e => {\r\n          e.preventDefault()\r\n          this.props.onSubmitMessage(this.state.message)\r\n          this.setState({ message: '' })\r\n        }}\r\n      >\r\n        <input\r\n          className=\"form-control message-input\"\r\n          type=\"text\"\r\n          placeholder={'Enter message...'}\r\n          value={this.state.message}\r\n          onChange={e => this.setState({ message: e.target.value })}\r\n        />\r\n        <input className=\"btn btn-primary btn-md\" type=\"submit\" value={'Send'} />\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ChatInput","import React from 'react'\r\nimport { MDBCard, MDBCardBody } from \"mdbreact\";\r\nimport './ChatMessage.css'\r\n\r\nexport default ({ name, message, className }) =>\r\n  <li className={`chat-message d-flex mb-4 ${className}`}>\r\n  <MDBCard>\r\n    <MDBCardBody>\r\n      <div>\r\n        <strong className=\"primary-font\">{name}</strong>\r\n      </div>\r\n      <hr />\r\n      <p className=\"mb-0\">{message}</p>\r\n    </MDBCardBody>\r\n  </MDBCard>\r\n  </li>\r\n  // <p className={className}>\r\n  //   <strong>{name}</strong> <em>{message}</em>\r\n  // </p>\r\n\r\n","import React from 'react'\r\nimport { MDBCard, MDBCardBody } from \"mdbreact\";\r\nimport './DraftMessage.css'\r\n\r\nexport default ({ name, message, className, close, resend, id}) =>\r\n  <li className={`chat-message d-flex mb-4 ${className}`}>\r\n    <MDBCard>\r\n      <MDBCardBody>\r\n        <div>\r\n          <strong className=\"primary-font\">{name}</strong>\r\n        </div>\r\n        <hr />\r\n        <p className=\"mb-0\">{message}</p>\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          Failed to send the message. Please check your connection\r\n        </div>\r\n        {/* <span>Failed to send the message. Please check your connection</span> */}\r\n        <div id={id}>\r\n          <button className=\"btn btn-danger\" onClick={close}>Close</button>\r\n          <button className=\"btn btn-danger\" onClick={resend}>Resend</button>\r\n        </div>\r\n      </MDBCardBody>\r\n    </MDBCard>\r\n  </li>\r\n\r\n\r\n","import React from 'react'\r\nimport { MDBCardBody, MDBRow, MDBCol } from \"mdbreact\";\r\n\r\nexport default ({ className, status, closeConnection, openConnection, switchNotifications, switchNotificationButtonText}) =>\r\n\t<>\r\n\t\t<MDBCardBody>\r\n\t\t\t<MDBRow className=\"justify-content-center\">\r\n\t\t\t\t<MDBCol md=\"6\" xl=\"6\" className=\"pl-md-3 mt-4 mt-md-0 px-lg-12\">\r\n\t\t\t\t\t<div className={`d-flex justify-content-center ${className}`} role=\"alert\">\r\n\t\t\t\t\t\t{status}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</MDBCol>\r\n\t\t\t</MDBRow>\r\n\t\t\t<MDBRow className=\"justify-content-center\">\r\n\t\t\t\t<MDBCol md=\"6\" xl=\"6\" className=\"d-flex justify-content-center flex-wrap pl-md-3 mt-2 mt-md-0 px-lg-12\">\r\n\t\t\t\t\t<button className=\"btn btn-danger\" onClick={closeConnection}>Close</button>\r\n\t\t\t\t\t<button className=\"btn btn-success\" onClick={openConnection}>Open</button>\r\n\t\t\t\t\t<button className=\"btn btn-light\" onClick={switchNotifications}>{switchNotificationButtonText}</button>\r\n\t\t\t\t</MDBCol>\r\n\t\t\t</MDBRow>\r\n\t\t</MDBCardBody>\r\n\t</>\r\n ","import React, { Component } from 'react'\r\nimport NameInput from '../NameInput/NameInput'\r\nimport ChatInput from '../ChatInput/ChatInput'\r\nimport ChatMessage from '../ChatMessage/ChatMessage'\r\nimport DraftMessage from '../DraftMessage/DraftMessage'\r\nimport Notification  from '../Notification/Notification';\r\nimport Header from '../Header/Header';\r\nimport { MDBCard, MDBCardBody, MDBRow, MDBCol, MDBListGroup } from \"mdbreact\";\r\nimport './Chat.css'\r\n\r\nconst URL = 'ws://st-chat.shas.tel'\r\n\r\nclass Chat extends Component {\r\n  state = {\r\n    from: localStorage.getItem('userName'),\r\n    messages: [],\r\n    draftMessages: [],\r\n    messageStatus: undefined,\r\n    status: 'offline',\r\n    statusBackground: 'alert alert-success',\r\n    ignore: true,\r\n    title: 'Chat notification!',\r\n    switchNotificationButtonText: 'Turn notifications off'\r\n  }\r\n\r\n  ws = new WebSocket(URL)\r\n\r\n  componentDidMount() {\r\n    this.handleConnectionChange();\r\n    window.addEventListener('online', this.handleConnectionChange);\r\n    window.addEventListener('offline', this.handleConnectionChange);\r\n    this.connect()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('online', this.handleConnectionChange);\r\n    window.removeEventListener('offline', this.handleConnectionChange);\r\n  }\r\n\r\n  connect= () => {\r\n    this.ws.onopen = () => {\r\n      console.log('connected')\r\n      this.setState(state=> ({status: 'online', statusBackground: 'alert alert-success'}))\r\n    }\r\n    this.ws.onmessage = evt => {\r\n      let message = JSON.parse(evt.data)\r\n      console.log(message)\r\n      \r\n      if (Array.isArray(message) && message.length === 1 && typeof message[0] === 'object') {\r\n        message = message[0]\r\n        this.handleNotification(message.from, message.message)\r\n      }\r\n      this.addMessage(message)\r\n      \r\n    }\r\n    this.ws.onclose = () => {\r\n      console.log('disconnected')\r\n      this.setState({\r\n        status: 'offline',\r\n        statusBackground: 'alert alert-danger'\r\n      })\r\n      this.ws = new WebSocket(URL)\r\n      this.connect()\r\n    }\r\n  }\r\n\r\n  \r\n\r\n  handleConnectionChange = () => {\r\n    let wbStatus = this.ws.readyState;\r\n    const condition = navigator.onLine ? 'online' : 'offline';\r\n    if (condition === 'online') {\r\n      const webPing = setInterval(\r\n        () => {\r\n          fetch('//google.com', {\r\n            mode: 'no-cors',\r\n            })\r\n          .then(() => {\r\n            if (wbStatus === WebSocket.OPEN) {\r\n              this.setState({ status: 'online', statusBackground: 'alert alert-success' }, () => {\r\n                return clearInterval(webPing)\r\n              });\r\n            }\r\n          }).catch(() => this.setState({ status: 'offline', statusBackground: 'alert alert-danger' }) )\r\n        }, 2000);\r\n      return;\r\n    }\r\n    if (this.ws.readyState === WebSocket.OPEN) {\r\n      return this.setState({ status: 'offline', statusBackground: 'alert alert-danger' });\r\n    }\r\n  }\r\n\r\n  addMessage = (message) => {\r\n   \r\n    if (message.length > 1) {\r\n      this.setState(state => ({messages: message}))\r\n      console.log('more')\r\n    } else {\r\n      this.setState(state => ({messages: [message, ...this.state.messages]}))\r\n      console.log('1')\r\n    }\r\n  }\r\n\r\n  submitMessage = messageString => {\r\n    const message = { from: this.state.from, message: messageString }\r\n    if (this.state.status !== 'online') {\r\n      console.log('offline')\r\n      this.setState(state => ({draftMessages: [message, ...state.draftMessages]}))\r\n      console.log(this.state.draftMessages)\r\n      return\r\n    }\r\n    this.ws.send(JSON.stringify(message))\r\n    \r\n  }\r\n\r\n  closeConnection = () => {\r\n    this.ws.close()\r\n  }\r\n\r\n  openConnection = () => {\r\n    this.ws = new WebSocket(URL)\r\n    this.connect()\r\n  }\r\n\r\n  clearDrawMessages = () => {\r\n    this.setState(state => {\r\n      state.draftMessages.length = 0\r\n    })\r\n  }\r\n\r\n  resendDraftMessage = (e) => {\r\n    const key = e.target.parentNode.id;\r\n    this.state.draftMessages.forEach((draftMessage, index) => {\r\n      if (index === Number(key) && this.state.status === 'online') {\r\n        this.ws.send(JSON.stringify(draftMessage))\r\n        this.setState(state => ({\r\n          draftMessages: state.draftMessages.filter((message, index) => index !== Number(key))\r\n        }))\r\n      }\r\n    })\r\n  }\r\n\r\n  deleteDraftMessage = (e) => {\r\n    const key = e.target.parentNode.id;\r\n    this.setState((state) => ({\r\n      draftMessages: state.draftMessages.filter((message, index) => index !== Number(key))\r\n    }))\r\n  }\r\n\r\n  handlePermissionGranted(){\r\n    console.log('Permission Granted');\r\n    this.setState({\r\n      ignore: false\r\n    });\r\n  }\r\n\r\n  handlePermissionDenied(){\r\n    console.log('Permission Denied');\r\n    this.setState({\r\n      ignore: true\r\n    });\r\n  }\r\n\r\n  handleNotSupported(){\r\n    console.log('Web Notification not Supported');\r\n    this.setState({\r\n      ignore: true\r\n    });\r\n  }\r\n\r\n  handleNotificationOnError(e, tag) {\r\n    console.log(e, 'Notification error tag:' + tag);\r\n  }\r\n\r\n  switchNotifications() {\r\n    if (this.state.ignore === false) {\r\n      this.setState({\r\n        ignore: true,\r\n        switchNotificationButtonText: 'Turn notification on'\r\n      });\r\n      return;\r\n    }  \r\n\r\n    this.setState({\r\n      ignore: false,\r\n      switchNotificationButtonText: 'Turn notification off'\r\n    });\r\n  }\r\n\r\n  handleNotification(from, message) {\r\n\r\n    if (this.state.ignore) {\r\n      console.log(this.state.ignore)\r\n      return;\r\n    }\r\n\r\n    const now = Date.now();\r\n\r\n    const title = this.state.title;\r\n    const body = `${from}: ${message}`;\r\n    const tag = now;\r\n    const options = {\r\n      tag: tag,\r\n      body: body,\r\n      lang: 'en',\r\n      dir: 'ltr',\r\n    }\r\n    this.setState({\r\n      title: title,\r\n      options: options\r\n    });\r\n  }\r\n\r\n  handleNameInput = (e) => {\r\n    const { value } = e.target;\r\n    this.setState({ from: value });\r\n    localStorage.setItem('userName', value)\r\n  }\r\n\r\n  render() {\r\n    const { from } = this.state;\r\n    return (\r\n      <div className=\"grey darken-3\">\r\n        <Notification\r\n          ignore={this.state.ignore && this.state.title !== ''}\r\n          notSupported={this.handleNotSupported.bind(this)}\r\n          onPermissionGranted={this.handlePermissionGranted.bind(this)}\r\n          onPermissionDenied={this.handlePermissionDenied.bind(this)}\r\n          onError={this.handleNotificationOnError.bind(this)}\r\n          timeout={5000}\r\n          title={this.state.title}\r\n          options={this.state.options}\r\n          disableActiveWindow={true}\r\n        />\r\n        <Header \r\n          className={this.state.statusBackground}\r\n          status={this.state.status}\r\n          closeConnection={this.closeConnection.bind(this)}\r\n          openConnection={this.openConnection.bind(this)}\r\n          switchNotifications={this.switchNotifications.bind(this)}\r\n          switchNotificationButtonText={this.state.switchNotificationButtonText}\r\n        />\r\n        <MDBCard className=\"chat-room blue-grey lighten-5\">\r\n          <MDBCardBody className=\"justify-content-center\">\r\n            <MDBRow className=\"justify-content-center\">\r\n              <MDBCol md=\"8\" xl=\"6\" className=\"pl-md-3 mt-4 mt-md-0 px-lg-12\">\r\n                <NameInput \r\n                  from={from}\r\n                  onChange={this.handleNameInput}\r\n                />\r\n              </MDBCol>\r\n            </MDBRow>\r\n            <MDBRow className=\"justify-content-center\">\r\n              <MDBCol md=\"8\" xl=\"6\" className=\"pl-md-3 mt-4 mt-md-0 px-lg-12\">\r\n                {/* <div className=\"scrollable-chat\"> */}\r\n                  <MDBListGroup className=\"indigo lighten-5 list-unstyled pl-3 pr-3\">\r\n                  {this.state.draftMessages.map((message, index) => {\r\n                    return (\r\n                      <DraftMessage\r\n                        key={index}\r\n                        id={index}\r\n                        message={message.message}\r\n                        name={message.from}\r\n                        className=\"justify-content-end draft\"\r\n                        close={this.deleteDraftMessage}\r\n                        resend={this.resendDraftMessage}\r\n                      />\r\n                    )\r\n                  })}\r\n                  {this.state.messages.map((message, index) => {\r\n                    let messageStatus = 'justify-content-between ordinary';\r\n                    if (message.from === this.state.from) {\r\n                      messageStatus = 'justify-content-end active';\r\n                    }\r\n                    return (\r\n                      <ChatMessage\r\n                        key={message.id}\r\n                        message={message.message}\r\n                        name={message.from}\r\n                        className={messageStatus}\r\n                      />\r\n                    )\r\n                  })}\r\n                  </MDBListGroup>\r\n              </MDBCol>\r\n            </MDBRow>\r\n            <MDBRow className=\"justify-content-center\">\r\n              <ChatInput\r\n                ws={this.ws}\r\n                onSubmitMessage={messageString => this.submitMessage(messageString)}\r\n              />\r\n            </MDBRow>\r\n          </MDBCardBody>\r\n        </MDBCard>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Chat","import React, { Component } from 'react'\n// import logo from './logo.svg'\nimport Chat from '../src/components/Chat/Chat'\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <Chat />\n      </div>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport 'bootstrap-css-only/css/bootstrap.min.css';\nimport 'mdbreact/dist/css/mdb.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}